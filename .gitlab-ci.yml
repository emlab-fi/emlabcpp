image: cxx

stages:
  - test

test_bare:
  stage: test
  script:
    - make test
  artifacts:
    paths:
      - build/Testing/*/*.xml
    reports:
      junit:
        - build/Testing/*/*.xml

test_address:
  stage: test
  script:
    - make test SANITIZER=address
  artifacts:
    paths:
      - build/Testing/*/*.xml
    reports:
      junit:
        - build/Testing/*/*.xml

test_undefined:
  stage: test
  script:
    - make test SANITIZER=undefined
  artifacts:
    paths:
      - build/Testing/*/*.xml
    reports:
      junit:
        - build/Testing/*/*.xml

